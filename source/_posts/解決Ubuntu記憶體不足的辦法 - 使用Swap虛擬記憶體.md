title: 解決Ubuntu記憶體不足的辦法 - 使用Swap虛擬記憶體
date: 2018-01-13 22:24:21
tags: []
categories: []
---
記憶體一直不足，程式一直Crash
-------------

最近因為在跑幾個虛擬貨幣的區塊練同步，常常每同步一個新的幣種就是一天兩天的問題，像是比特幣光是區塊練的大小就有130GB以上，小一點的萊特幣也至少要14GB才能同步完成，所以空間問題也從AWS去擴增我主機的Volume了。

<!--more-->

但這幾天發現程式常常會跑到某個區段後，直接Crash掉，查看 _debug.log_ 的時候也沒看到中斷的原因，後來查了一下發現可以用這個指令查看中斷錯誤。

```bash
//檢查硬碟剩餘空間
df -h

//查看中斷錯誤
dmesg
```

在最後面的錯誤訊息中，可以看到是因為Memory run out導致程式中斷。

AWS EC2的 t2.mirco是我目前主機使用的規格，這規格的記憶體配置只有1GB，很明顯除了應付我平時其他網站服務的需求已接近不足，如今又要同步區塊練對於記憶體的要求更是恐怖。

這時候就要使用Swap虛擬記憶體來解決這個問題

設置Swap虛擬記憶體
----------

先確認目前是否已經